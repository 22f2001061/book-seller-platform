{% extends "base.html" %}

{% block content %}

<div class="d-flex justify-content-between g-3 p-2 align-items-center me-5">
    <h1>Category List</h1>
    {% if session.get("role") == "admin" %}
    <a class="btn btn-primary" href="/create/category">Add cateogry</a>
    {% endif %}
</div>

<div>
    {% if existing_categories | length != 0 %}
    <ul>
        {% for category in existing_categories %}
        <!-- {% if loop.length == 0 %}
        <h4>Empty Loop</h4>
        {% endif %} -->




        <div class="d-flex justify-content-between mx-2 p-2 g-2 col-6">
            <li>{{loop.index}}.{{category.name}}</li>
            {% if session.get("role") == "admin" %}
            <div class="d-flex g-3">
                <a href="/edit/category/{{category.id}}" class="mx-2">
                    <span>edit</span>
                </a>
                <a href="/delete/category/{{category.id}}" class="mx-2">
                    <span>delete</span>
                </a>
            </div>
            {% endif %}
        </div>
        {% endfor %}
    </ul>
    {% else %}
    <p>No availble categories</p>
    {% endif %}

</div>

{%endblock%}